<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>PROACT'IF - Modification des données personnelles</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/fonctions.js"></script>
        <link rel="stylesheet" href="css/bootstrap.min.css" />
        <link rel="stylesheet" href="css/styles.css" />
    </head>
    <body>
      <nav class="navbar navbar-light bg-light justify-content-between">
        <a class="navbar-brand">PROACT'IF</a>
        <form class="form-inline nav-item dropdown">
          <a id="utilisateur-connecte" class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
           Connecté
         </a>
         <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
           <a class="dropdown-item" href="interventions.html">Mes interventions</a>
           <a class="dropdown-item" href="modification.html">Mes données personnelles</a>
           <a id="btn-deconnexion" class="dropdown-item" href="#">Se déconnecter</a>
         </div>
        </form>
      </nav>

      <img class="img-width-100prct" src="images/banniere.jpeg">

      <div class="text-center entete-page">
          <h1>Sécurité des données</h1>
          <p class="margin-top-15">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vitae lorem odio. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vitae lorem odio.</p>
          <a href="#form-inscription" class="btn btn-primary">En savoir plus</a>
      </div>

        <form id="form-inscription">
          <h1>Modifier mon profil</h1>

          <!-- Partie informations personnelles -->
          <section class="margin-top-30">
            <h3>Mes informations personnelles</h3>

            <input id="champ-id" type="text" value="" class="invisible">
            <div class="row">
              <div class="col-lg-2 col-md-2">
                <div class="form-group">
                  <label for="champ-civilite">Civilité</label>
                  <select id="champ-civilite" class="form-control">
                    <option>Monsieur</option>
                    <option>Madame</option>
                  </select>
                </div>
              </div>
              <div class="col-lg-5 col-md-5">
                <div class="form-group">
                  <label for="champ-prenom">Prénom</label>
                  <input  id="champ-prenom" type="text" class="form-control" placeholder="Votre prénom">
                  <div id="champ-prenom-message" class="invalid-feedback"></div>
                </div>
              </div>
              <div class="col-lg-5 col-md-5">
                <div class="form-group">
                  <label for="champ-nom">Nom</label>
                  <input  id="champ-nom" type="text" class="form-control" placeholder="Votre nom">
                  <div id="champ-nom-message" class="invalid-feedback"></div>
                </div>
              </div>
            </div>
          </div>

            <div class="form-group">
              <label for="champ-datenaissance">Date de naissance</label>
              <input  id="champ-datenaissance" type="date" class="form-control">
              <div id="champ-datenaissance-message" class="invalid-feedback"></div>
            </div>

            <div class="form-group">
              <label for="champ-telephone">Numéro de téléphone</label>
              <input  id="champ-telephone" type="text" class="form-control" placeholder="Votre numéro de téléphone">
              <div id="champ-telephone-message" class="invalid-feedback"></div>
            </div>

            <div class="form-group">
              <label for="champ-login">Adresse email</label>
              <input  id="champ-login" type="email" class="form-control" placeholder="Votre adresse mail">
              <div id="champ-login-message" class="invalid-feedback"></div>
            </div>

            <div class="form-group">
              <label for="champ-pass1">Mot de passe <span class="text-secondary">(Laisser vide si vous ne souhaitez pas le changer)</span></label>
              <input  id="champ-pass1" type="password" class="form-control" placeholder="Votre mot de passe">
              <div id="champ-pass1-message" class="invalid-feedback"></div>
            </div>

            <div class="form-group">
              <label for="champ-pass2">Retaper votre mot de passe <span class="text-secondary">(Laisser vide si vous ne souhaitez pas le changer)</span></label>
              <input  id="champ-pass2" type="password" class="form-control" placeholder="Votre mot de passe">
              <div id="champ-pass2-message" class="invalid-feedback"></div>
            </div>
          </section>

          <!-- Partie Adresse -->
          <section class="margin-top-30">
            <h3>Mon adresse</h3>

            <div class="row">
              <div class="col-lg-2 col-md-2">
                <div class="form-group">
                  <label for="champ-num">Numéro</label>
                  <input  id="champ-num" type="number" class="form-control" placeholder="Numero">
                  <div id="champ-num-message" class="invalid-feedback"></div>
                </div>
              </div>
              <div class="col-lg-10 col-md-10">
                <div class="form-group">
                  <label for="champ-rue">Rue</label>
                  <input  id="champ-rue" type="text" class="form-control" placeholder="Votre rue">
                  <div id="champ-rue-message" class="invalid-feedback"></div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-lg-4 col-md-4">
                <div class="form-group">
                  <label for="champ-cp">Code postal</label>
                  <input  id="champ-cp" type="text" class="form-control" placeholder="Votre code postal">
                  <div id="champ-cp-message" class="invalid-feedback"></div>
                </div>
              </div>
              <div class="col-lg-8 col-md-8">
                <div class="form-group">
                  <label for="champ-ville">Ville</label>
                  <input  id="champ-ville" type="text" class="form-control" placeholder="Votre ville">
                  <div id="champ-ville-message" class="invalid-feedback"></div>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="champ-complement">Complément d'adresse</label>
              <textarea id="champ-complement" class="form-control" rows="3"></textarea>
            </div>
          </section>
          <button id="bouton-inscription" class="btn btn-primary">Valider</button>
        </form>

        <footer>
          <div id="footer-text" class="text-center">
            <span>PROACT'IF 2018 Copyright</span>
          </div>
        </footer>

        <div id="modalModifDonneesSucces" class="modal" tabindex="-1" role="dialog">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Modification des données personnelles</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <p>Les modifications se sont effectuées avec succès, vous allez être redirigé vers votre tableau de bord.</p>
              </div>
              <div class="modal-footer">
                <button id="fermerModal" type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
              </div>
            </div>
          </div>
        </div>

        <script>


            $(document).ready(function () {

                obtenirInformationsUtilisateur();

                $('#btn-deconnexion').click(function() {
                  deconnexion();
                });

                $('#bouton-inscription').click(function(e) {
                  e.preventDefault();
                  if (verifChampsChangerDonnees(1) == 1) {
                    modifierInformationsUtilisateur();
                  }
                });

                $('#fermerModal').click(function() {
                  window.location = "interventions.html";
                });
            });
        </script>
    </body>
</html>
